{% load static %}

<!DOCTYPE html>
<html lang="en">


    <head>
        <!-- Add your Bootstrap CDN links here -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <style>
            body {
                background: url('{% static 'workflowapp/images/job-application-bg.png' %}') no-repeat center center fixed;
                background-size: cover;
            }
    
            .container {
                background: rgb(255, 255, 255); /* Set the background color of the form container */
                padding: 20px;
                border-radius: 10px;
                margin-top: 50px; /* Adjust the top margin as needed */
            }
        </style>
    </head>



    <body>

    <div class="container">
        <h2>Inspection Form</h2>
        <form method="post" action="{% url 'outb' %}" class="form">
            <div class="row">
                <div class="col-md-6">
                    <!-- First column of the form -->
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="{{ form.channel.id_for_label }}">Inspection</label>
                        {{ form.channel }}
                    </div>
                    <div class="mb-3">
                        {{ form.customer_name.label_tag }}
                        {{ form.customer_name }}
                    </div>
                    <div class="mb-3">
                        {{ form.customer_contact.label_tag }}
                        {{ form.customer_contact }}
                    </div>
                    <div class="mb-3">
                        {{ form.nssf_number.label_tag }}
                        {{ form.nssf_number }}
                    </div>
                    <div class="mb-3">
                        {{ form.served_by.label_tag }}
                        {{ form.served_by }}
                    </div>



                    
                    <div class="mb-3">
                        {{ form.branch.label_tag }}
                        {{ form.branch }}
                    </div>

                    <div class="mb-3">
                        {{ form.reason_for_visit.label_tag }}
                        {{ form.reason_for_visit }}
                    </div>

                </div>
                <div class="col-md-6">
                    <!-- Second column of the form -->
                    <div class="mb-3">
                        <label for="{{ form.nps.id_for_label }}">On a scale of 0 to 10, would you refer our services to a family or a friend?</label>
                        {{ form.nps }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.fcr_resolved.id_for_label }}">Was your query resolved?</label>
                        {{ form.fcr_resolved }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.ces_easy.id_for_label }}">How easy was it for you to get what you wanted from NSSF?</label>
                        {{ form.ces_easy }}
                    </div>
                    <div class="mb-3">
                        {{ form.overall_satisfaction.label_tag }}
                        {{ form.overall_satisfaction }}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.greeting_and_enthusiasm.id_for_label }}">Standard Greeting and Enthusiasm (Empathy)? (20 Marks)</label>
                        {{ form.greeting_and_enthusiasm }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.emotional_connection.id_for_label }}">Emotionally connected with the customer (Empathy)? (25 Marks)</label>
                        {{ form.emotional_connection }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.resolution_and_professionalism.id_for_label }}">Resolution of Customer Query (Resolution and professionalism)? (35 Marks)</label>
                        {{ form.resolution_and_professionalism }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.hold_procedure.id_for_label }}">Hold procedure (Resolution and professionalism)? (10 Marks)</label>
                        {{ form.hold_procedure }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.call_closure.id_for_label }}">Call Closure (Resolution and professionalism)? (10 Marks)</label>
                        {{ form.call_closure }}
                    </div>
                    <div class="mb-3">
                        <label for="{{ form.zero_rated.id_for_label }}">Zero Rated?</label>
                        {{ form.zero_rated }}
                    </div>
                    








                    <div class="mb-3">
                        <label for="{{ form.additional_comments.id_for_label }}">Any other thoughts or comments?</label>
                        {{ form.additional_comments }}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.verbatim_rating.id_for_label }}">Verbatim Rating</label>
                        {{ form.verbatim_rating }}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.front_office_reasons.id_for_label }}">Front Office Reasons</label>
                        {{ form.front_office_reasons }}
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.back_office_reasons.id_for_label }}">Back Office Reasons</label>
                        {{ form.back_office_reasons }}
                    </div>

                </div>
            </div>            
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <script>
            // Add event listener to the channel select element
            document.getElementById("id_channel").addEventListener("change", function() {
                // Get the selected value
                var selectedChannel = this.value;
                
                // Get the nps field
                var npsField = document.getElementById("id_nps").closest(".mb-3");

                // Get the fcr_resolved field
                var fcrResolvedField = document.getElementById("id_fcr_resolved").closest(".mb-3");

                // Get the ces_easy field
                var cesEasyField = document.getElementById("id_ces_easy").closest(".mb-3");

                var additional_commentsField = document.getElementById("id_additional_comments").closest(".mb-3");
                var nssf_numberField = document.getElementById("id_nssf_number").closest(".mb-3");
                var overall_satisfactionField = document.getElementById("id_overall_satisfaction").closest(".mb-3");

                var verbatim_ratingField = document.getElementById("id_verbatim_rating").closest(".mb-3");
                var front_office_reasonsnField = document.getElementById("id_front_office_reasons").closest(".mb-3");
                var back_office_reasonsField = document.getElementById("id_back_office_reasons").closest(".mb-3");

                var greeting_and_enthusiasmField = document.getElementById("id_greeting_and_enthusiasm").closest(".mb-3");
                var emotional_connectionField = document.getElementById("id_emotional_connection").closest(".mb-3");
                var resolution_and_professionalismField = document.getElementById("id_resolution_and_professionalism").closest(".mb-3");
                var hold_procedureField = document.getElementById("id_hold_procedure").closest(".mb-3");
                var call_closureField = document.getElementById("id_call_closure").closest(".mb-3");
                var zero_ratedField = document.getElementById("id_zero_rated").closest(".mb-3");

                // Check if the selected channel is "Online"
                if (selectedChannel === "Online") {
                    // Show the nps and additional_comments fields
                    npsField.style.display = "block";
                    fcrResolvedField.style.display = "none";
                    cesEasyField.style.display = "none";
                    greeting_and_enthusiasmField.style.display = "none";
                    emotional_connectionField.style.display = "none";
                    resolution_and_professionalismField.style.display = "none";
                    hold_procedureField.style.display = "none";
                    call_closureField.style.display = "none";
                    zero_ratedField.style.display = "none"; 


                } else if (selectedChannel === "Walkin") {
                    // Show the nps and fcr_resolved fields
                    npsField.style.display = "block";
                    fcrResolvedField.style.display = "block";
                    cesEasyField.style.display = "none";
                    greeting_and_enthusiasmField.style.display = "none";
                    emotional_connectionField.style.display = "none";
                    resolution_and_professionalismField.style.display = "none";
                    hold_procedureField.style.display = "none";
                    call_closureField.style.display = "none";
                    zero_ratedField.style.display = "none"; 

                } else if (selectedChannel === "First contact resolution") {
                    // Show the fcr_resolved field
                    npsField.style.display = "block";
                    fcrResolvedField.style.display = "block";
                    cesEasyField.style.display = "none";
                    additional_commentsField.style.display = "none";
                    nssf_numberField.style.display = "none";
                    overall_satisfactionField.style.display = "none";
                    greeting_and_enthusiasmField.style.display = "none";
                    emotional_connectionField.style.display = "none";
                    resolution_and_professionalismField.style.display = "none";
                    hold_procedureField.style.display = "none";
                    call_closureField.style.display = "none";
                    zero_ratedField.style.display = "none"; 

                } else if (selectedChannel === "Call center") {
                    // Show the fcr_resolved field
                    greeting_and_enthusiasmField.style.display = "block";
                    emotional_connectionField.style.display = "block";
                    resolution_and_professionalismField.style.display = "block";
                    hold_procedureField.style.display = "block";
                    call_closureField.style.display = "block";
                    zero_ratedField.style.display = "block";

                    npsField.style.display = "none";
                    fcrResolvedField.style.display = "none";
                    cesEasyField.style.display = "none";
                    additional_commentsField.style.display = "block";
                    nssf_numberField.style.display = "none";
                    overall_satisfactionField.style.display = "none";
                    
                    verbatim_ratingField.style.display = "none";
                    front_office_reasonsnField.style.display = "none";
                    back_office_reasonsField.style.display = "none";


                } else {
                    // Show all fields
                    npsField.style.display = "none";
                    fcrResolvedField.style.display = "none";
                    cesEasyField.style.display = "none";
                    greeting_and_enthusiasmField.style.display = "none";
                    emotional_connectionField.style.display = "none";
                    resolution_and_professionalismField.style.display = "none";
                    hold_procedureField.style.display = "none";
                    call_closureField.style.display = "none";
                    zero_ratedField.style.display = "none";                    
                    verbatim_ratingField.style.display = "none";
                    front_office_reasonsnField.style.display = "none";
                    back_office_reasonsField.style.display = "none";


                }
            });

            // Trigger the change event on page load to set the initial state
            document.getElementById("id_channel").dispatchEvent(new Event("change"));
        </script>
    </div>
</body>
</html>
